# Lines starting with # are comments
# Lines starting with $ are statements
# Lines with no start glyph are string literals
# Single newlines or white space is not preserved, word wrapping is applied

$Q start toggle:neon
This is the room description.
There's a door and a light switch here.
$O open
The door is open.
$O light
The light is on.
$O !key light
You see a key here.
$O key
You have the key.
$O neon ext:2
Outside the window, neon sign is red.
$O !neon ext:1
Outside the window, neon sign is blue.
$O rnd:10 set:lightning ext:6
Lightning flashes in the window.


$A start toggle:light
Press light switch
$A start !key light set:key
Get key
$A start key !unlocked set:unlocked
Unlock door
$A start unlocked !open set:open
Open door
$A start open clear:open
Close door
$A end open
Enter
$A start !lightning
Wait

$Q end ext:7
The end.
$O light
You left the lights on.
$O !light
You remembered to turn off the lights.